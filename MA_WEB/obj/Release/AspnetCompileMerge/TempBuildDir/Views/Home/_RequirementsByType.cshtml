@using Model.BusinessModels
<!-- ko with: requirementsByType -->
<section class="content-header" data-bind="if: isLoaded()">
    <h1 data-bind ="html: title()">
    </h1>
    <ol class="breadcrumb">
        <li><a data-bind="attr:{'href' : '/'}"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a data-bind="text:projectTitle, attr:{'href' : '#/project/' + projectId()}"></a></li>
        <li class="active" data-bind="text:description"></li>
    </ol>
</section>
<section class="content">
    <div class="row">
        <!-- left column -->
        <div class="col-md-12">
            <!-- general form elements -->
            <div class="box ">
                 <div class="box-header with-border">
                     <h3 class="box-title">Requirements</h3>
@*@if (Model.Role == Role.ProjectAdmin)
{*@
   @* <a data-bind="attr:{'href' : '#/project/' + projectId() + '/requirements/type/' + id() + '/edit'}"  class="btn btn-default btn-flat btn-xs pull-right"><i class="fa fa-edit"></i> Edit Requirement Type</a>
    <button type="submit" data-bind="visible: !editable(),click: edit" class="btn btn-default btn-flat btn-xs pull-right"><i class="fa fa-edit"></i> Edit </button>
    <button type="submit" class="btn btn-success btn-flat btn-xs pull-right" data-bind="visible: editable(),click: save"><i class="fa fa-save"></i> Save</button>*@
    <div class="btn-group pull-right">
        <button type="button" class="btn btn-default btn-xs btn-flat dropdown-toggle pull-right" data-toggle="dropdown" aria-expanded="false">
            Edit
            <span class="fa fa-caret-down"></span>
        </button>
        <ul class="dropdown-menu">
            <li><a data-bind="attr: {'href' : '#/project/' + projectId() + '/requirements/type/' + id() + '/edit'}">Edit Requirement Type</a></li>
            <li><a href="#" data-bind="visible: !editable(),click: edit">Edit Attributes</a></li>
@*            <li class="divider"></li>
            <li><a href="#">Separated link</a></li>*@
        </ul>
    </div>
@*/*}*/*@
                  </div><!-- /.box-header -->
                <!-- form start -->
                <form role="form">
                    <div class="box-body" data-bind="visible: noRequirements()">
                        Sorry, there are no requirements at the moment :(
                    </div><!-- /.box-body -->
                    <div class="box-body" data-bind="if: !noRequirements() && isLoaded()">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th style="width: 300px">Name</th>
                                    <!-- ko foreach: atrrTypes -->
                                    <th data-bind="text: $data.name"></th>
                                    <!-- /ko -->
                                </tr>
                            </thead>
                            <tbody>
                                <!-- ko foreach: rows -->
                                <tr>
                                    <td>
                                        <p><b><a class="text-navy" data-bind="attr:{'href' : '#/project/' + $parent.projectId() + '/requirement/' + $data.id}, text: $data.uniqueTag+': ' + $data.name"></a></b>
                                        </p>
                                        @*<span data-bind ="text: $data.description"></span>*@
                                    </td>
                                    <!-- ko foreach: $data.attributes -->
                                    <!-- ko if: $data.editType == 1-->
                                    <td><select class="form-control" data-bind="options: $data.values, value: $data.value" disabled></select></td>
                                    @*<td><input type="text" class="form-control" data-bind="value: $data.value" disabled /></td>*@
                                    <!-- /ko -->
                                    <!-- ko if: $data.editType == 0-->
                                    <td><input type="text" class="form-control" data-bind="value: $data.value" disabled/></td>
                                    <!-- /ko -->
                                    <!-- /ko -->
                                </tr>
                                <!-- /ko -->
                            </tbody>
                        </table>
                    </div><!-- /.box-body -->
                    <div class="box-footer">
                        @*<a data-bind="attr:{'href':'#/project/' + projectId()}" class="btn btn-default btn-flat pull-left"><i class="fa fa-undo"></i>  Back</a>*@
                        <a data-bind="attr: {href: '#/project/' + projectId() + '/requirements/add'}" class="btn bg-olive btn-sm  pull-right">Add Requirement</a>
                    </div>
                </form>
            </div><!-- /.box -->
        </div>
    </div>


</section>
<!-- /ko -->

